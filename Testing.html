<!DOCTYPE html>

<html>

<head>
    <meta charset='utf-8' />
    <title>Testing HTML Scroll Animation</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='test.js'></script>

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="test.css">
    <link rel="stylesheet" href="mapUI.css">
    <link rel="stylesheet" href="info_popup.css">
</head>

<body>

    <button onclick="openNewWindow();">OPEN A NEW WINDOW</button>
    <div>
        <a href="standaloneTest.html">Standalone Test HTML</a>
    </div>
    <h1>CAMMM Infographics</h1>

    <div class="box question">
    </div>
    <div class="box image">
    </div>
    <div class="box question">
        <h2>Content</h2>
    </div>
    <div class="box">
        <h2>Content</h2>
    </div>
    <div class="box">
        <h2>Content</h2>
    </div>


    <script>
        // here is where we add stuff to the new window
        function openNewWindow() {
            // window.open("https://ideas-be.github.io/CAMMM-Web-Tool/indexStandalone.html");
            window.open("http://localhost:5500/indexStandalone.html");
        }

        const boxes = document.querySelectorAll('.box');

        window.addEventListener('scroll', scrolling);

        var questBoxes = document.querySelectorAll('.question');
        var questList = questions;
        console.log("questList", questList);

        for (i = 0; i < questBoxes.length; i++) {
            questBoxes[i].innerHTML = "<h2>" + questList[i] + "</h2>";
        }

        var imageBoxes = document.querySelectorAll('.image');

        for (i = 0; i < imageBoxes.length; i++) {
            imageBoxes[i].innerHTML = "<h3>Image</h3>";
        }

        function scrolling() {
            console.log("Scrolling Activated!!!");
            const triggerBottom = window.innerHeight * (3 / 5);
            boxes.forEach(box => {
                const boxTop = box.getBoundingClientRect().top;
                if (triggerBottom > boxTop) {
                    setTimeout(console.log("OOOh lives in a pineapple under the sea"), 3000);
                    box.classList.add('show');
                    // setTimeout(box.classList.add('show'), 3000);
                }
                // else {
                //     box.classList.add('float');
                // }
            })
        }

        // window.addEventListener('scroll', () => {

        //     var scrollPercentage = (document.documentElement.scrollTop + document.body.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);
        // })
    </script>


</body>