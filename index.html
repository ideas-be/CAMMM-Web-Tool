<!DOCTYPE html>

<html>

<head>
	<meta charset='utf-8' />
	<title>Map Comparison</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
	<script src='city.js'></script>
	<script src='info_popup.js'></script>
	<script src="https://kit.fontawesome.com/7abfd05b6d.js" crossorigin="anonymous"></script>

	<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet'>

	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="mapUI.css">
	<link rel="stylesheet" href="info_popup.css">
</head>

<body>

	<!-- START OF WEB ATLAS -->
	<div class="atlas-title">
		<p>
			CAMMM Web Atlas Prototype
		</p>
		<span style="font-size: 1em; color: #d81b60;">
			<i class="fas fa-info-circle" onclick="show_popup(1);"></i>
		</span>
	</div>
	<div>
		<a href="uiTesting.html">UI Testing HTML Mockup Page</a>
	</div>
	<button id="printButton" onclick="window.print();">Print</button>
	<!-- <input type="button" id="exportCitation" onclick="location.href='https://google.com';" value="Go to Google" /> -->
	<button id="exportCitation" onclick="{location.href='Reference.ris'; show_citation();}">Export Citation</button>
	<div id="citationText" style="display: none;">
		<div><p>APA: Cucuzzella, C., Gauthier, P., Nizar, F., & Ortiz Meraz, O. (2021). CAMMM Web Atlas 0.3. CAMMM Web Atlas 0.3.</p></div>
		<div><p>MLA: Cucuzzella, Carmela, et al. “CAMMM Web Atlas 0.3.” CAMMM Web Atlas 0.3, 2021.</p></div>
		<div><p>CHICAGO: Cucuzzella, Carmela, Pierre Gauthier, Firdous Nizar, and Omar Ortiz Meraz. 2021. “CAMMM Web Atlas 0.3.” CAMMM Web Atlas 0.3. 2021.</p></div>	
	</div>


	<!-- START OF INFO AREA -->

	<!-- START OF INFO POP UP 1 -->
	<div class="info_popup_area">

		<div class="hover_info_popup" id="hover_info_popup1" style="display: none;">
			<span class="helper"></span>
			<div>
				<div class="popupCloseButton" onclick="hide_popup(1);">&times;</div>
				<p>INFO POP UP 1<br />WIP!</p>
			</div>
		</div>
	</div>
	<!-- END OF INFO POP UP 1 -->
	
	<!-- START OF INFO POP UP 2 -->
	<div class="info_popup_area">

		<div class="hover_info_popup" id="hover_info_popup2" style="display: none;">
			<span class="helper"></span>
			<div>
				<div class="popupCloseButton" onclick="hide_popup(2);">&times;</div>
				<p>INFO POP UP 2<br />WIP!</p>			
			</div>
		</div>
	</div>
	<!-- END OF INFO POP UP 2 -->

	<!-- START OF INFO POP UP 3 -->
	<div class="info_popup_area">

		<div class="hover_info_popup" id="hover_info_popup3" style="display: none;">
			<span class="helper"></span>
			<div>
				<div class="popupCloseButton" onclick="hide_popup(3);">&times;</div>
				<p>INFO POP UP 3<br />WIP!</p>
			</div>
		</div>
	</div>
	<!-- END OF INFO POP UP 3 -->

	<!-- START OF INFO POP UP 4 -->
	<div class="info_popup_area">

		<div class="hover_info_popup" id="hover_info_popup4" style="display: none;">
			<span class="helper"></span>
			<div>
				<div class="popupCloseButton" onclick="hide_popup(4);">&times;</div>
				<p>INFO POP UP 4<br />WIP!</p>
			</div>
		</div>
	</div>
	<!-- END OF INFO POP UP 4 -->

	<!-- END OF INFO AREA -->


	<!-- START OF MAP CONTROLS AREA -->
	<div class="map-controls-area group">
		<!-- 	::before -->
		<!-- START OF LEFT CONTROLS -->
		<div class="dropDown1">

			<!-- START OF CITY 1 LIST -->
			<div class="atlas-city1">
				<select id="cityList1" onchange="getSelectedCity(1);">
				</select>
				<button id ="city1Reset" onclick="resetCity(1);">Reset</button>
				<span style="font-size: 1em; color: #d81b60;">
					<i class="fas fa-info-circle" onclick="show_popup(2);"></i>
				</span>
			</div>
			<div class="emptyspace"></div>
			<!-- END OF CITY 1 LIST -->

		</div>
		<!--END OF LEFT CONTROLS -->

		<!-- START OF RIGHT CONTROLS -->
		<div class="dropDown2">

			<!-- START OF CITY 2 LIST -->
			<div class="atlas-city2">
				<select id="cityList2" onchange="getSelectedCity(2);">
				</select>
				<button id ="city2Reset" onclick="resetCity(2);">Reset</button>
				<span style="font-size: 1em; color: #d81b60;">
					<i class="fas fa-info-circle" onclick="show_popup(2);"></i>
				</span>
			</div>
			<div class="emptyspace"></div>
			<!-- END OF CITY 2 LIST -->


		</div>
		<!--END OF RIGHT CONTROLS -->
		<!-- 	::after -->
	</div>
	<!--END OF MAP CONTROLS AREA -->

	<!-- START OF MAP 1 CONTROLS TABLE -->
	<div id="filter-group1" class="filter-group">
		<table id="map1controls">
			<tr>
				<td class="mapCellsType1">
					<!-- START OF DIRECT/NODE TOGGLE 1 -->
					<div id="toggleCity1">
					</div>
					<!-- END OF DIRECT/NODE TOGGLE 1 -->
				</td>
				<td class="mapCellsType1">
					<!-- START OF QUERY BUTTONS 1 -->
					<form name="sampleForm" id="radioForm1">
					</form>
					<!-- END OF QUERY BUTTONS 1 -->
				</td>
				<td class="mapCellsType1">
					<!-- START OF CATEGORY/CUMULATIVE TOGGLE 1 -->
					<div id="toggleCategoryCumulative1">
					</div>
					<!-- END OF CATEGORY/CUMULATIVE TOGGLE 1 -->
				</td>
				<td class="mapCellsType1">
					<!-- START OF MAP LEGEND AND SLIDER 1 -->			  
					<div id="mapLegend1">
					</div>
					<!-- END OF MAP LEGEND AND SLIDER 1 -->	
				</td>
				<td class="mapCellsType2">
					<span class="popUp3" style="font-size: 1em; color: #d81b60; display: none;">
						<i class="fas fa-info-circle" onclick="show_popup(3);"></i>
					</span>
				</td>
			</tr>
		</table>
	</div>
	<!-- END OF MAP 1 CONTROLS TABLE -->
	<!-- START OF MAP 2 CONTROLS TABLE -->
	<div id="filter-group2" class="filter-group">
		<table id="map2controls">
			<tr>
				<td class="mapCellsType1">
					<!-- START OF DIRECT/NODE TOGGLE 2 -->
					<div id="toggleCity2">
					</div>
					<!-- END OF DIRECT/NODE TOGGLE 2 -->
				</td>
				<td class="mapCellsType1">
					<!-- START OF QUERY BUTTONS 2 -->
					<form name="sampleForm" id="radioForm2">
					</form>
					<!-- END OF QUERY BUTTONS 2 -->
				</td>
				<td class="mapCellsType1">
					<!-- START OF CATEGORY/CUMULATIVE TOGGLE 2 -->
					<div id="toggleCategoryCumulative2">
					</div>
					<!-- END OF CATEGORY/CUMULATIVE TOGGLE 2 -->
				</td>
				<td class="mapCellsType1">
					<!-- START OF MAP LEGEND AND SLIDER 2 -->			  
					<div id="mapLegend2">
					</div>
					<!-- END OF MAP LEGEND AND SLIDER 2 -->	
				</td>
				<td class="mapCellsType2">
					<span class="popUp3" style="font-size: 1em; color: #d81b60; display: none;">
						<i class="fas fa-info-circle" onclick="show_popup(3);"></i>
					</span>
				</td>
			</tr>
		</table>
	<!-- END OF MAP 2 CONTROLS TABLE -->
	<!-- START OF MAP 1 BOX-->	
	</div>
	<div class="mapbox1" id="map1div">
		<div id='map1'>
		</div>
	</div>
	<!-- END OF MAP 1 BOX-->

	<!-- START OF MAP 2 BOX-->

	<div class="mapbox2" id="map2div">
		<div id='map2'>
		</div>
	</div>
	<!-- END OF MAP 2 BOX -->

	<!-- START OF CITY METRICS TABLES -->

	<div class="emptyspace-table"></div>
	<div id="city1table" class="oput"></div>
	<div id="city2table" class="oput"></div>


	<!-- END OF CITY METRICS TABLES -->

	<!-- START OF FUNCTION TO DISPLAY CITY METRICS JSON -->
	<script>

		var obj;
		var a = new XMLHttpRequest();  // This is creating the variable that reads the JSON file
		function readMetrics(){
			a.open('GET', "CityMetrics2.json", true);  // This is reading the JSON FILE 
			console.log("Reading the City Metrics file to load JSON");

			a.onreadystatechange = function () {  //When the JSON file is open it starts a function 

			if (this.readyState == 4) {     //When the file is read, code 4, this IF is True
				obj = JSON.parse(this.responseText);   // This line parses the response text which is a string into a proper JSON 
				newJson(obj);
			}
			}

			a.send();        // Closes the XMLHttpRequest   
		}
		setTimeout(readMetrics, 700);
		 
		                                      
	</script>

	<!-- END OF FUNCTION TO DISPLAY CITY METRICS JSON -->

	<!-- END OF WEB ATLAS -->
</body>

</html>