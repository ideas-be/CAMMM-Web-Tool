<!DOCTYPE html>

<html>

<head>
	<meta charset='utf-8' />
	<title>Map Comparison</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
	<script src='city.js'></script>
	<script src='info_popup.js'></script>
	<script src="https://kit.fontawesome.com/7abfd05b6d.js" crossorigin="anonymous"></script>

	<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet'>

	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="mapUI.css">
	<link rel="stylesheet" href="info_popup.css">
</head>

<body>

	<!-- START OF WEB ATLAS -->
	<div class="atlas-title">
		<h2>
			CAMMM Web Atlas
		</h2>
	</div>

	<!-- START OF INFO AREA -->
	<a class="trigger_info_popup">?</a>

	<div class="hover_info_popup">
		<span class="helper"></span>
		<div>
			<div class="popupCloseButton">&times;</div>
			<p>Add any HTML content<br />inside the popup box!</p>
		</div>
	</div>
	<!-- END OF INFO AREA -->


	<!-- START OF MAP CONTROLS AREA -->
	<div class="map-controls-area group">
		<!-- 	::before -->
		<!-- START OF LEFT CONTROLS -->
		<div class="left-map-controls">

			<!-- START OF CITY 1 LIST -->
			<div class="atlas-city1">
				<h3>City 1</h3>
				<select id="cityList1" onchange="getSelectedCity(1);">
				</select>
			</div>
			<div class="emptyspace"></div>
			<!-- END OF CITY 1 LIST -->

		</div>
		<!--END OF LEFT CONTROLS -->

		<!-- START OF RIGHT CONTROLS -->
		<div class="right-map-controls">

			<!-- START OF CITY 2 LIST -->
			<div class="atlas-city2">
				<h3>City 2</h3>
				<select id="cityList2" onchange="getSelectedCity(2);">
				</select>
			</div>
			<div class="emptyspace"></div>
			<!-- END OF CITY 2 LIST -->


		</div>
		<!--END OF RIGHT CONTROLS -->
		<!-- 	::after -->
	</div>
	<!--END OF MAP CONTROLS AREA -->

	<!-- START OF MAP1 -->
	<div class="mapbox1" id="map1div">
		<!-- <div class='maplabel'>Map 1</div> -->
		<div id='map1'>
			<nav id="filter-group" class="filter-group">
				<form name="sampleForm" id="radioForm1">
				</form>
				<!-- START OF DIRECT/NODE TOGGLE 1 -->
				<div id="toggleCity1">
				</div>
				<div id="mapLegend1"></div>
		</div>

	</div>
	<!-- END OF MAP1 -->

	<!-- START OF MAP2 -->
	<div class="mapbox2" id="map2div">
		<!-- <div class='maplabel'>Map 2</div> -->
		<div id='map2'>
			<nav id="filter-group" class="filter-group">
				<form name="sampleForm" id="radioForm2">
				</form>
				<!-- START OF DIRECT/NODE TOGGLE 2 -->
				<div id="toggleCity2">
				</div>
				<div id="mapLegend2"></div>
		</div>
	</div>
	<!-- END OF MAP2 -->

	<!-- END OF MAPBOX -->

	<div class="emptyspace-table"></div>
	<div id="city1table" class="oput"></div>
	<div id="city2table" class="oput"></div>


	<!-- START OF FUNCTION TO DISPLAY CITY METRICS JSON -->
	<script>

		var obj;
		var a = new XMLHttpRequest();  // This is creating the variable that reads the JSON file
		a.open('GET', "CityMetrics.json", true); // This is reading the JSON FILE 
		a.onreadystatechange = function () {  //When the JSON file is open it starts a function 

			if (this.readyState == 4) {     //When the file is read, code 4, this IF is True
				obj = JSON.parse(this.responseText);   // This line parses the response text which is a string into a proper JSON 
				// initJson(obj, false, "InitJson is called when the JSON is read");
				newJson(obj);
				// console.log(obj);   // TADAAAAAAA
			}
		}

		a.send();        // Closes the XMLHttpRequest                                         
	</script>

	<!-- END OF FUNCTION TO DISPLAY CITY METRICS JSON -->

	<!-- END OF WEB ATLAS -->
</body>

</html>