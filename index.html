<!DOCTYPE html>

<html>

<head>
	<meta charset='utf-8' />
	<title>Map Comparison</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
	<script src='city.js'></script>
	<script src='info_popup.js'></script>
	<script src="https://kit.fontawesome.com/7abfd05b6d.js" crossorigin="anonymous"></script>

	<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet'>

	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="mapUI.css">
	<link rel="stylesheet" href="info_popup.css">
</head>

<body>

	<!-- START OF WEB ATLAS -->
	<div class="atlas-title">
		<p>
			CAMMM Web Atlas Prototype
		</p>
		<span style="font-size: 1em; color: #d81b60;">
			<i class="fas fa-info-circle" onclick="show_popup();"></i>
		</span>

	</div>

	<!-- START OF INFO AREA -->
	<div class="info_popup_area">

		<div class="hover_info_popup" id="hover_info_popup" style="display: none;">
			<span class="helper"></span>
			<div>
				<div class="popupCloseButton" onclick="hide_popup();">&times;</div>
				<p>Adding more info on CAMMM Web Atlas soon...<br />Stay tuned!</p>
			</div>
		</div>
	</div>

	<!-- END OF INFO AREA -->


	<!-- START OF MAP CONTROLS AREA -->
	<div class="map-controls-area group">
		<!-- 	::before -->
		<!-- START OF LEFT CONTROLS -->
		<div class="left-map-controls">

			<!-- START OF CITY 1 LIST -->
			<div class="atlas-city1">
				<h3>City 1</h3>
				<select id="cityList1" onchange="getSelectedCity(1);">
				</select>
				<span style="font-size: 1em; color: #d81b60;">
					<i class="fas fa-info-circle" onclick="show_popup();"></i>
				</span>
				<button id ="city1Reset" onclick="resetCity(1);">Reset</button>
			</div>
			<div class="emptyspace"></div>
			<!-- END OF CITY 1 LIST -->

		</div>
		<!--END OF LEFT CONTROLS -->

		<!-- START OF RIGHT CONTROLS -->
		<div class="right-map-controls">

			<!-- START OF CITY 2 LIST -->
			<div class="atlas-city2">
				<h3>City 2</h3>
				<select id="cityList2" onchange="getSelectedCity(2);">
				</select>
				<span style="font-size: 1em; color: #d81b60;">
					<i class="fas fa-info-circle" onclick="show_popup();"></i>
				</span>
				<button id ="city2Reset" onclick="resetCity(2);">Reset</button>
			</div>
			<div class="emptyspace"></div>
			<!-- END OF CITY 2 LIST -->


		</div>
		<!--END OF RIGHT CONTROLS -->
		<!-- 	::after -->
	</div>
	<!--END OF MAP CONTROLS AREA -->

	<!-- START OF MAP1 -->
	<div class="mapbox1" id="map1div">
		<div id='map1'>
				<nav id="filter-group" class="filter-group">
					<span class="popUp3" style="font-size: 1em; color: #d81b60; display: none;">
						<i class="fas fa-info-circle" onclick="show_popup();"></i>
					</span>
					<!-- START OF DIRECT/NODE TOGGLE 1 -->
					<div id="toggleCity1">
					</div>
					<!-- END OF DIRECT/NODE TOGGLE 1 -->
					<!-- START OF QUERY BUTTONS 1 -->
					<form name="sampleForm" id="radioForm1">
					</form>
				<!-- END OF QUERY BUTTONS 1 -->
				<!-- START OF SHOW ALL CHECKBOX 1 -->
				<div id="showAll1Div" style="display: none;">
				  </div>
				<!-- END OF SHOW ALL CHECKBOX 1 -->
				<!-- START OF MAP LEGEND AND SLIDER 1 -->			  
				<div id="mapLegend1"></div>
				<!-- END OF MAP LEGEND AND SLIDER 1 -->	
		</div>

	</div>
	<!-- END OF MAP1 -->

	<!-- START OF MAP2 -->
	<div class="mapbox2" id="map2div">
		<div id='map2'>
				
				<!-- START OF QUERY BUTTONS 2 -->
				<nav id="filter-group" class="filter-group">
					<span class="popUp3" style="font-size: 1em; color: #d81b60; display: none;">
						<i class="fas fa-info-circle" onclick="show_popup();"></i>
					</span>
					<!-- START OF DIRECT/NODE TOGGLE 2 -->
					<div id="toggleCity2">
					</div>
					<!-- END OF DIRECT/NODE TOGGLE 2 -->
					<form name="sampleForm" id="radioForm2">
					</form>
				<!-- END OF QUERY BUTTONS 2 -->
				<!-- START OF SHOW ALL CHECKBOX 2 -->
				<div id="showAll2Div" style="display: none;">

				  </div>
				<!-- END OF SHOW ALL CHECKBOX 2 -->
				<!-- START OF MAP LEGEND AND SLIDER 2 -->	
				<div id="mapLegend2"></div>
				<!-- END OF MAP LEGEND AND SLIDER 2 -->
		</div>
	</div>
	<!-- END OF MAP2 -->

	<!-- END OF MAPBOX -->

	<div class="emptyspace-table"></div>
	<div id="city1table" class="oput"></div>

	<div id="city2table" class="oput"></div>


	<!-- START OF FUNCTION TO DISPLAY CITY METRICS JSON -->
	<script>

		var obj;
		var a = new XMLHttpRequest();  // This is creating the variable that reads the JSON file
		a.open('GET', "CityMetrics.json", true); // This is reading the JSON FILE 
		a.onreadystatechange = function () {  //When the JSON file is open it starts a function 

			if (this.readyState == 4) {     //When the file is read, code 4, this IF is True
				obj = JSON.parse(this.responseText);   // This line parses the response text which is a string into a proper JSON 
				newJson(obj);
			}
		}

		a.send();        // Closes the XMLHttpRequest                                         
	</script>

	<!-- END OF FUNCTION TO DISPLAY CITY METRICS JSON -->

	<!-- END OF WEB ATLAS -->
</body>

</html>